{
  "id": "00000000-0000-0000-0000-000000000000",
  "revision": 0,
  "last_node_id": 85,
  "last_link_id": 77,
  "nodes": [
    {
      "id": 5,
      "type": "VHS_VideoCombine",
      "pos": [
        1839.0570068359375,
        -602.7054443359375
      ],
      "size": [
        354.19317626953125,
        358
      ],
      "flags": {},
      "order": 16,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 4
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO"
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "label": "frame_rate",
          "name": "frame_rate",
          "type": "FLOAT",
          "widget": {
            "name": "frame_rate"
          }
        },
        {
          "label": "loop_count",
          "name": "loop_count",
          "type": "INT",
          "widget": {
            "name": "loop_count"
          }
        },
        {
          "label": "filename_prefix",
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          }
        },
        {
          "label": "format",
          "name": "format",
          "type": "COMBO",
          "widget": {
            "name": "format"
          }
        },
        {
          "label": "pingpong",
          "name": "pingpong",
          "type": "BOOLEAN",
          "widget": {
            "name": "pingpong"
          }
        },
        {
          "label": "save_output",
          "name": "save_output",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_output"
          }
        },
        {
          "label": "no_preview",
          "name": "no_preview",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "no_preview"
          }
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "widget_ue_connectable": {}
      },
      "widgets_values": {
        "frame_rate": 16,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "no_preview": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00006_hfkpx_1749805876.mp4",
            "workflow": "AnimateDiff_00006.png",
            "fullpath": "/data/ComfyUI/personal/6db99262fc8caf538788327be5108f7e/output/AnimateDiff_00006.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 16
          }
        }
      }
    },
    {
      "id": 3,
      "type": "ImageUpscaleWithModel",
      "pos": [
        1532.7646484375,
        -605.5328979492188
      ],
      "size": [
        221.98202514648438,
        46
      ],
      "flags": {},
      "order": 11,
      "mode": 4,
      "inputs": [
        {
          "label": "upscale_model",
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 3
        },
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 2
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            4,
            5
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 6,
      "type": "PreviewImage",
      "pos": [
        1847.82763671875,
        18.649967193603516
      ],
      "size": [
        210,
        26
      ],
      "flags": {},
      "order": 17,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 5
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 2,
      "type": "PreviewImage",
      "pos": [
        1164.2718505859375,
        -245.520751953125
      ],
      "size": [
        456.7477111816406,
        379.6549987792969
      ],
      "flags": {},
      "order": 10,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 1
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 4,
      "type": "UpscaleModelLoader",
      "pos": [
        1047.4942626953125,
        -1058.9315185546875
      ],
      "size": [
        415.2412414550781,
        61.42705154418945
      ],
      "flags": {},
      "order": 0,
      "mode": 4,
      "inputs": [
        {
          "label": "model_name",
          "name": "model_name",
          "type": "COMBO",
          "widget": {
            "name": "model_name"
          }
        }
      ],
      "outputs": [
        {
          "label": "UPSCALE_MODEL",
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            3
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "RealESRGAN_x4.pth"
      ]
    },
    {
      "id": 22,
      "type": "VHS_LoadVideo",
      "pos": [
        2810,
        -580
      ],
      "size": [
        311.2537841796875,
        334
      ],
      "flags": {},
      "order": 1,
      "mode": 4,
      "inputs": [
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "label": "video",
          "name": "video",
          "type": "STRING",
          "widget": {
            "name": "video"
          }
        },
        {
          "label": "force_rate",
          "name": "force_rate",
          "type": "INT",
          "widget": {
            "name": "force_rate"
          }
        },
        {
          "label": "force_size",
          "name": "force_size",
          "type": "COMBO",
          "widget": {
            "name": "force_size"
          }
        },
        {
          "label": "custom_width",
          "name": "custom_width",
          "type": "INT",
          "widget": {
            "name": "custom_width"
          }
        },
        {
          "label": "custom_height",
          "name": "custom_height",
          "type": "INT",
          "widget": {
            "name": "custom_height"
          }
        },
        {
          "label": "frame_load_cap",
          "name": "frame_load_cap",
          "type": "INT",
          "widget": {
            "name": "frame_load_cap"
          }
        },
        {
          "label": "skip_first_frames",
          "name": "skip_first_frames",
          "type": "INT",
          "widget": {
            "name": "skip_first_frames"
          }
        },
        {
          "label": "select_every_nth",
          "name": "select_every_nth",
          "type": "INT",
          "widget": {
            "name": "select_every_nth"
          }
        },
        {
          "label": "format",
          "name": "format",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "format"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            19
          ]
        },
        {
          "label": "frame_count",
          "name": "frame_count",
          "type": "INT"
        },
        {
          "label": "audio",
          "name": "audio",
          "type": "AUDIO"
        },
        {
          "label": "video_info",
          "name": "video_info",
          "type": "VHS_VIDEOINFO"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo",
        "widget_ue_connectable": {}
      },
      "widgets_values": {
        "video": "ddc6d25ffa1bbb684e43c9a773817e6d6329caefe9c66b040db0f4ccb9132fee.mp4",
        "force_rate": 0,
        "force_size": "Disabled",
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 0,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "choose video to upload": "image",
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "custom_height": 512,
            "filename": "ddc6d25ffa1bbb684e43c9a773817e6d6329caefe9c66b040db0f4ccb9132fee.mp4",
            "force_rate": 0,
            "custom_width": 0,
            "select_every_nth": 1,
            "frame_load_cap": 0,
            "format": "video/mp4",
            "skip_first_frames": 0,
            "type": "input"
          }
        }
      }
    },
    {
      "id": 26,
      "type": "GetImageRangeFromBatch",
      "pos": [
        3158.59375,
        -776.86376953125
      ],
      "size": [
        315,
        102
      ],
      "flags": {},
      "order": 9,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "shape": 7,
          "type": "IMAGE",
          "link": 19
        },
        {
          "label": "masks",
          "name": "masks",
          "shape": 7,
          "type": "MASK"
        },
        {
          "label": "start_index",
          "name": "start_index",
          "type": "INT",
          "widget": {
            "name": "start_index"
          }
        },
        {
          "label": "num_frames",
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            20,
            22
          ]
        },
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK"
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageRangeFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 23,
      "type": "UpscaleModelLoader",
      "pos": [
        3090,
        -1050
      ],
      "size": [
        415.2412414550781,
        61.42705154418945
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [
        {
          "label": "model_name",
          "name": "model_name",
          "type": "COMBO",
          "widget": {
            "name": "model_name"
          }
        }
      ],
      "outputs": [
        {
          "label": "UPSCALE_MODEL",
          "name": "UPSCALE_MODEL",
          "type": "UPSCALE_MODEL",
          "links": [
            14
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "UpscaleModelLoader",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "RealESRGAN_x4plus.pth"
      ]
    },
    {
      "id": 17,
      "type": "ImageUpscaleWithModel",
      "pos": [
        3570,
        -590
      ],
      "size": [
        221.98202514648438,
        46
      ],
      "flags": {},
      "order": 15,
      "mode": 4,
      "inputs": [
        {
          "label": "upscale_model",
          "name": "upscale_model",
          "type": "UPSCALE_MODEL",
          "link": 14
        },
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 20
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            21,
            23,
            31
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageUpscaleWithModel",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 30,
      "type": "Note",
      "pos": [
        2193.447998046875,
        -1106.9879150390625
      ],
      "size": [
        501.2633056640625,
        289.552734375
      ],
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "通用照片 4x: RealESRGAN/plus  ， 4x-UltraSharp   ，ESRGAN_4x\n\n动漫 4x: RealESRGAN_x4plus_anime_6B, 4x-AnimeSharp, 4x_Fatality_Comix_MKI_200000_G\n\n人脸 4x/8x: 4xFaceUpSharpDAT, 4xFFHQDAT, 8xNMKDFaces, TGHQFace8x\n\n文字/线条: 4x PixelPerfectV4, 4x_NumericFrames2.0\n\n去JPEG伪影: 1x_JPEGDestroyerV2 (通常先修复再放大)\n\n去噪: NoiseToner-PoissonDetailed\n\n去模糊: Ix DeBLR\n\n皮肤细节增强 (1x): X1_ITF_SkinDiffDetail_Lite\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 29,
      "type": "PreviewImage",
      "pos": [
        4375.13525390625,
        -606.3653564453125
      ],
      "size": [
        535.5184936523438,
        812.0289306640625
      ],
      "flags": {},
      "order": 22,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 23
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 40,
      "type": "PreviewImage",
      "pos": [
        4947.24169921875,
        -602.7451782226562
      ],
      "size": [
        535.5184936523438,
        812.0289306640625
      ],
      "flags": {},
      "order": 25,
      "mode": 4,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 30
        }
      ],
      "outputs": [],
      "properties": {
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 39,
      "type": "ImageScaleBy",
      "pos": [
        4481.1806640625,
        -766.2244262695312
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 23,
      "mode": 4,
      "inputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "link": 31
        },
        {
          "label": "upscale_method",
          "name": "upscale_method",
          "type": "COMBO",
          "widget": {
            "name": "upscale_method"
          }
        },
        {
          "label": "scale_by",
          "name": "scale_by",
          "type": "FLOAT",
          "widget": {
            "name": "scale_by"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            30
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "ImageScaleBy",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "lanczos",
        0.5000000000000001
      ]
    },
    {
      "id": 1,
      "type": "VHS_LoadVideo",
      "pos": [
        777.2789306640625,
        -616.5272216796875
      ],
      "size": [
        311.2537841796875,
        334
      ],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "label": "video",
          "name": "video",
          "type": "STRING",
          "widget": {
            "name": "video"
          }
        },
        {
          "label": "force_rate",
          "name": "force_rate",
          "type": "INT",
          "widget": {
            "name": "force_rate"
          }
        },
        {
          "label": "force_size",
          "name": "force_size",
          "type": "COMBO",
          "widget": {
            "name": "force_size"
          }
        },
        {
          "label": "custom_width",
          "name": "custom_width",
          "type": "INT",
          "widget": {
            "name": "custom_width"
          }
        },
        {
          "label": "custom_height",
          "name": "custom_height",
          "type": "INT",
          "widget": {
            "name": "custom_height"
          }
        },
        {
          "label": "frame_load_cap",
          "name": "frame_load_cap",
          "type": "INT",
          "widget": {
            "name": "frame_load_cap"
          }
        },
        {
          "label": "skip_first_frames",
          "name": "skip_first_frames",
          "type": "INT",
          "widget": {
            "name": "skip_first_frames"
          }
        },
        {
          "label": "select_every_nth",
          "name": "select_every_nth",
          "type": "INT",
          "widget": {
            "name": "select_every_nth"
          }
        },
        {
          "label": "format",
          "name": "format",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "format"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            1,
            2
          ]
        },
        {
          "label": "frame_count",
          "name": "frame_count",
          "type": "INT"
        },
        {
          "label": "audio",
          "name": "audio",
          "type": "AUDIO"
        },
        {
          "label": "video_info",
          "name": "video_info",
          "type": "VHS_VIDEOINFO"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo",
        "widget_ue_connectable": {}
      },
      "widgets_values": {
        "video": "f07f7efd2ae6110a7bcafa20bb346683d6f58aa69072e0bacaf0c2c9114f80b8.mp4",
        "force_rate": 0,
        "force_size": "Disabled",
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 0,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "choose video to upload": "image",
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "custom_height": 512,
            "filename": "f07f7efd2ae6110a7bcafa20bb346683d6f58aa69072e0bacaf0c2c9114f80b8.mp4",
            "force_rate": 0,
            "custom_width": 0,
            "select_every_nth": 1,
            "frame_load_cap": 0,
            "format": "video/mp4",
            "skip_first_frames": 0,
            "type": "input"
          }
        }
      }
    },
    {
      "id": 28,
      "type": "Image Comparer (rgthree)",
      "pos": [
        3860.7646484375,
        -794.3467407226562
      ],
      "size": [
        481.8255615234375,
        991.4442749023438
      ],
      "flags": {},
      "order": 21,
      "mode": 4,
      "inputs": [
        {
          "dir": 3,
          "label": "image_a",
          "name": "image_a",
          "type": "IMAGE",
          "link": 21
        },
        {
          "dir": 3,
          "label": "image_b",
          "name": "image_b",
          "type": "IMAGE",
          "link": 22
        }
      ],
      "outputs": [],
      "properties": {
        "comparer_mode": "Slide",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/view?filename=rgthree.compare._temp_jckmo_00019_tyyzn_1750417061.png&type=temp&subfolder=&rand=0.12144166130305478&Rh-Comfy-Auth=eyJ1c2VySWQiOiI2ZGI5OTI2MmZjOGNhZjUzODc4ODMyN2JlNTEwOGY3ZSIsInNpZ25FeHBpcmUiOjE3NTEwMjA2MzQ5ODAsInRzIjoxNzUwNDE1ODM0OTgwLCJzaWduIjoiYTZkY2Y3Yjc1ZTc0ZTE2OGM5ZjJmZGQ5NzQ3YzgyMWMifQ==&Rh-Identify=6db99262fc8caf538788327be5108f7e"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/view?filename=rgthree.compare._temp_jckmo_00020_hcbiy_1750417065.png&type=temp&subfolder=&rand=0.23471293233317803&Rh-Comfy-Auth=eyJ1c2VySWQiOiI2ZGI5OTI2MmZjOGNhZjUzODc4ODMyN2JlNTEwOGY3ZSIsInNpZ25FeHBpcmUiOjE3NTEwMjA2MzQ5ODAsInRzIjoxNzUwNDE1ODM0OTgwLCJzaWduIjoiYTZkY2Y3Yjc1ZTc0ZTE2OGM5ZjJmZGQ5NzQ3YzgyMWMifQ==&Rh-Identify=6db99262fc8caf538788327be5108f7e"
          }
        ]
      ]
    },
    {
      "id": 74,
      "type": "VHS_VideoCombine",
      "pos": [
        3687.48291015625,
        2483.8857421875
      ],
      "size": [
        326.3158264160156,
        358
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 64
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO"
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "label": "frame_rate",
          "name": "frame_rate",
          "type": "FLOAT",
          "widget": {
            "name": "frame_rate"
          },
          "link": 65
        },
        {
          "label": "loop_count",
          "name": "loop_count",
          "type": "INT",
          "widget": {
            "name": "loop_count"
          }
        },
        {
          "label": "filename_prefix",
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          }
        },
        {
          "label": "format",
          "name": "format",
          "type": "COMBO",
          "widget": {
            "name": "format"
          }
        },
        {
          "label": "pingpong",
          "name": "pingpong",
          "type": "BOOLEAN",
          "widget": {
            "name": "pingpong"
          }
        },
        {
          "label": "save_output",
          "name": "save_output",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_output"
          }
        },
        {
          "label": "no_preview",
          "name": "no_preview",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "no_preview"
          }
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "widget_ue_connectable": {}
      },
      "widgets_values": {
        "frame_rate": 8,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": true,
        "no_preview": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00014_gckre_1756480994.mp4",
            "workflow": "AnimateDiff_00014.png",
            "fullpath": "/data/ComfyUI/personal/6db99262fc8caf538788327be5108f7e/output/AnimateDiff_00014.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "output",
            "frame_rate": 16
          }
        }
      }
    },
    {
      "id": 75,
      "type": "SeedVR2BlockSwap",
      "pos": [
        2692.24560546875,
        2228.119140625
      ],
      "size": [
        315,
        154
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {
          "label": "blocks_to_swap",
          "name": "blocks_to_swap",
          "type": "INT",
          "widget": {
            "name": "blocks_to_swap"
          }
        },
        {
          "label": "use_non_blocking",
          "name": "use_non_blocking",
          "type": "BOOLEAN",
          "widget": {
            "name": "use_non_blocking"
          }
        },
        {
          "label": "offload_io_components",
          "name": "offload_io_components",
          "type": "BOOLEAN",
          "widget": {
            "name": "offload_io_components"
          }
        }
      ],
      "outputs": [
        {
          "label": "block_swap_config",
          "name": "block_swap_config",
          "type": "block_swap_config",
          "links": [
            72
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SeedVR2BlockSwap",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        36,
        true,
        false
      ]
    },
    {
      "id": 77,
      "type": "GetImageRangeFromBatch",
      "pos": [
        3353.52734375,
        2506.904296875
      ],
      "size": [
        315,
        102
      ],
      "flags": {
        "collapsed": true
      },
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "shape": 7,
          "type": "IMAGE",
          "link": 66
        },
        {
          "label": "masks",
          "name": "masks",
          "shape": 7,
          "type": "MASK"
        },
        {
          "label": "start_index",
          "name": "start_index",
          "type": "INT",
          "widget": {
            "name": "start_index"
          }
        },
        {
          "label": "num_frames",
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            68
          ]
        },
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK"
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageRangeFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 78,
      "type": "GetImageRangeFromBatch",
      "pos": [
        2877.44970703125,
        2503.82568359375
      ],
      "size": [
        315,
        102
      ],
      "flags": {
        "collapsed": true
      },
      "order": 12,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "shape": 7,
          "type": "IMAGE",
          "link": 67
        },
        {
          "label": "masks",
          "name": "masks",
          "shape": 7,
          "type": "MASK"
        },
        {
          "label": "start_index",
          "name": "start_index",
          "type": "INT",
          "widget": {
            "name": "start_index"
          }
        },
        {
          "label": "num_frames",
          "name": "num_frames",
          "type": "INT",
          "widget": {
            "name": "num_frames"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            69
          ]
        },
        {
          "label": "MASK",
          "name": "MASK",
          "type": "MASK"
        }
      ],
      "properties": {
        "Node name for S&R": "GetImageRangeFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 82,
      "type": "SeedVR2",
      "pos": [
        3179.99755859375,
        2477.38525390625
      ],
      "size": [
        315,
        198
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 71
        },
        {
          "label": "block_swap_config",
          "name": "block_swap_config",
          "shape": 7,
          "type": "block_swap_config",
          "link": 72
        },
        {
          "label": "extra_args",
          "name": "extra_args",
          "shape": 7,
          "type": "extra_args"
        },
        {
          "label": "model",
          "name": "model",
          "type": "COMBO",
          "widget": {
            "name": "model"
          }
        },
        {
          "label": "seed",
          "name": "seed",
          "type": "INT",
          "widget": {
            "name": "seed"
          }
        },
        {
          "label": "new_resolution",
          "name": "new_resolution",
          "type": "INT",
          "widget": {
            "name": "new_resolution"
          },
          "link": 73
        },
        {
          "label": "batch_size",
          "name": "batch_size",
          "type": "INT",
          "widget": {
            "name": "batch_size"
          }
        }
      ],
      "outputs": [
        {
          "label": "image",
          "name": "image",
          "type": "IMAGE",
          "links": [
            64,
            66,
            74
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "SeedVR2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "seedvr2_ema_7b_fp16.safetensors",
        385965767,
        "randomize",
        1440,
        1
      ]
    },
    {
      "id": 84,
      "type": "VHS_VideoCombine",
      "pos": [
        4040.214111328125,
        2483.931396484375
      ],
      "size": [
        326.3158264160156,
        358
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "label": "images",
          "name": "images",
          "type": "IMAGE",
          "link": 74
        },
        {
          "label": "audio",
          "name": "audio",
          "shape": 7,
          "type": "AUDIO"
        },
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "label": "frame_rate",
          "name": "frame_rate",
          "type": "FLOAT",
          "widget": {
            "name": "frame_rate"
          },
          "link": 75
        },
        {
          "label": "loop_count",
          "name": "loop_count",
          "type": "INT",
          "widget": {
            "name": "loop_count"
          }
        },
        {
          "label": "filename_prefix",
          "name": "filename_prefix",
          "type": "STRING",
          "widget": {
            "name": "filename_prefix"
          }
        },
        {
          "label": "format",
          "name": "format",
          "type": "COMBO",
          "widget": {
            "name": "format"
          }
        },
        {
          "label": "pingpong",
          "name": "pingpong",
          "type": "BOOLEAN",
          "widget": {
            "name": "pingpong"
          }
        },
        {
          "label": "save_output",
          "name": "save_output",
          "type": "BOOLEAN",
          "widget": {
            "name": "save_output"
          }
        },
        {
          "label": "no_preview",
          "name": "no_preview",
          "shape": 7,
          "type": "BOOLEAN",
          "widget": {
            "name": "no_preview"
          }
        }
      ],
      "outputs": [
        {
          "label": "Filenames",
          "name": "Filenames",
          "type": "VHS_FILENAMES"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoCombine",
        "widget_ue_connectable": {}
      },
      "widgets_values": {
        "frame_rate": 8,
        "loop_count": 0,
        "filename_prefix": "AnimateDiff",
        "format": "video/h264-mp4",
        "pix_fmt": "yuv420p",
        "crf": 19,
        "save_metadata": true,
        "trim_to_audio": false,
        "pingpong": false,
        "save_output": false,
        "no_preview": false,
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "filename": "AnimateDiff_00001_rtyqu_1756480968.mp4",
            "workflow": "AnimateDiff_00001.png",
            "fullpath": "/data/ComfyUI/personal/6db99262fc8caf538788327be5108f7e/temp/AnimateDiff_00001.mp4",
            "format": "video/h264-mp4",
            "subfolder": "",
            "type": "temp",
            "frame_rate": 8
          }
        }
      },
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 80,
      "type": "Image Comparer (rgthree)",
      "pos": [
        3689.489501953125,
        3142.8916015625
      ],
      "size": [
        565.7896118164062,
        550.10546875
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "dir": 3,
          "label": "image_a",
          "name": "image_a",
          "type": "IMAGE",
          "link": 68
        },
        {
          "dir": 3,
          "label": "image_b",
          "name": "image_b",
          "type": "IMAGE",
          "link": 69
        }
      ],
      "outputs": [],
      "properties": {
        "comparer_mode": "Slide",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        [
          {
            "name": "A",
            "selected": true,
            "url": "/view?filename=rgthree.compare._temp_uxmjz_00001_tfjju_1756481001.png&type=temp&subfolder=&rand=0.7052423102774197&Rh-Comfy-Auth=eyJ1c2VySWQiOiI2ZGI5OTI2MmZjOGNhZjUzODc4ODMyN2JlNTEwOGY3ZSIsInNpZ25FeHBpcmUiOjE3NTcwODU2NzQxMTMsInRzIjoxNzU2NDgwODc0MTEzLCJzaWduIjoiOTM1MTQ4NTUxMzg3NmQ5OTFiNWRkZjBhODgxNmI3YmIifQ==&Rh-Identify=6db99262fc8caf538788327be5108f7e"
          },
          {
            "name": "B",
            "selected": true,
            "url": "/view?filename=rgthree.compare._temp_uxmjz_00002_zkoot_1756481016.png&type=temp&subfolder=&rand=0.3466385275272571&Rh-Comfy-Auth=eyJ1c2VySWQiOiI2ZGI5OTI2MmZjOGNhZjUzODc4ODMyN2JlNTEwOGY3ZSIsInNpZ25FeHBpcmUiOjE3NTcwODU2NzQxMTMsInRzIjoxNzU2NDgwODc0MTEzLCJzaWduIjoiOTM1MTQ4NTUxMzg3NmQ5OTFiNWRkZjBhODgxNmI3YmIifQ==&Rh-Identify=6db99262fc8caf538788327be5108f7e"
          }
        ]
      ]
    },
    {
      "id": 76,
      "type": "Int",
      "pos": [
        2361.145263671875,
        2592.570068359375
      ],
      "size": [
        270,
        58
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [
        {
          "label": "value",
          "name": "value",
          "type": "INT",
          "widget": {
            "name": "value"
          }
        }
      ],
      "outputs": [
        {
          "label": "INT",
          "name": "INT",
          "type": "INT",
          "links": [
            73
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "Int",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1440
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 81,
      "type": "VHS_VideoInfo",
      "pos": [
        3185.767333984375,
        2749.807861328125
      ],
      "size": [
        225.59765625,
        206
      ],
      "flags": {
        "collapsed": true
      },
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "label": "video_info",
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "link": 70
        }
      ],
      "outputs": [
        {
          "label": "source_fps🟨",
          "name": "source_fps🟨",
          "type": "FLOAT",
          "links": [
            65,
            75
          ]
        },
        {
          "label": "source_frame_count🟨",
          "name": "source_frame_count🟨",
          "type": "INT"
        },
        {
          "label": "source_duration🟨",
          "name": "source_duration🟨",
          "type": "FLOAT"
        },
        {
          "label": "source_width🟨",
          "name": "source_width🟨",
          "type": "INT"
        },
        {
          "label": "source_height🟨",
          "name": "source_height🟨",
          "type": "INT"
        },
        {
          "label": "loaded_fps🟦",
          "name": "loaded_fps🟦",
          "type": "FLOAT"
        },
        {
          "label": "loaded_frame_count🟦",
          "name": "loaded_frame_count🟦",
          "type": "INT"
        },
        {
          "label": "loaded_duration🟦",
          "name": "loaded_duration🟦",
          "type": "FLOAT"
        },
        {
          "label": "loaded_width🟦",
          "name": "loaded_width🟦",
          "type": "INT"
        },
        {
          "label": "loaded_height🟦",
          "name": "loaded_height🟦",
          "type": "INT"
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_VideoInfo",
        "widget_ue_connectable": {}
      },
      "widgets_values": {}
    },
    {
      "id": 83,
      "type": "Note",
      "pos": [
        3182.552001953125,
        2810.9287109375
      ],
      "size": [
        299.0030822753906,
        178.07066345214844
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "他们之前的唯一区别就是，更细腻，真实。\n模型往上递减会缩小一些，但这都小问题，不足为虑。\n牺牲点时间用最好的。\n\n参考旁边对比图，折中选择对应参数事半功倍\n\n视频和图像不一样，视频内容多，可以分成两部分。\n（当然直接跑也是可以，测试了下【2048的3B16fb需要11分钟{5秒16帧}】与【2048的7B16fb需要15分钟{5秒16帧}】）\n"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 79,
      "type": "VHS_LoadVideo",
      "pos": [
        2687.6865234375,
        2474.58544921875
      ],
      "size": [
        328.181884765625,
        666.1878051757812
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [
        {
          "label": "meta_batch",
          "name": "meta_batch",
          "shape": 7,
          "type": "VHS_BatchManager"
        },
        {
          "label": "vae",
          "name": "vae",
          "shape": 7,
          "type": "VAE"
        },
        {
          "label": "video",
          "name": "video",
          "type": "STRING",
          "widget": {
            "name": "video"
          }
        },
        {
          "label": "force_rate",
          "name": "force_rate",
          "type": "INT",
          "widget": {
            "name": "force_rate"
          }
        },
        {
          "label": "force_size",
          "name": "force_size",
          "type": "COMBO",
          "widget": {
            "name": "force_size"
          }
        },
        {
          "label": "custom_width",
          "name": "custom_width",
          "type": "INT",
          "widget": {
            "name": "custom_width"
          }
        },
        {
          "label": "custom_height",
          "name": "custom_height",
          "type": "INT",
          "widget": {
            "name": "custom_height"
          }
        },
        {
          "label": "frame_load_cap",
          "name": "frame_load_cap",
          "type": "INT",
          "widget": {
            "name": "frame_load_cap"
          }
        },
        {
          "label": "skip_first_frames",
          "name": "skip_first_frames",
          "type": "INT",
          "widget": {
            "name": "skip_first_frames"
          }
        },
        {
          "label": "select_every_nth",
          "name": "select_every_nth",
          "type": "INT",
          "widget": {
            "name": "select_every_nth"
          }
        },
        {
          "label": "format",
          "name": "format",
          "shape": 7,
          "type": "COMBO",
          "widget": {
            "name": "format"
          }
        }
      ],
      "outputs": [
        {
          "label": "IMAGE",
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            67,
            71
          ]
        },
        {
          "label": "frame_count",
          "name": "frame_count",
          "type": "INT"
        },
        {
          "label": "audio",
          "name": "audio",
          "type": "AUDIO"
        },
        {
          "label": "video_info",
          "name": "video_info",
          "type": "VHS_VIDEOINFO",
          "links": [
            70
          ]
        }
      ],
      "properties": {
        "Node name for S&R": "VHS_LoadVideo",
        "widget_ue_connectable": {}
      },
      "widgets_values": {
        "video": "662b082650cb6a83b6933f5131a4e626014623d62680dc439381559dc49fba4d.mp4",
        "force_rate": 0,
        "force_size": "Disabled",
        "custom_width": 0,
        "custom_height": 0,
        "frame_load_cap": 0,
        "skip_first_frames": 0,
        "select_every_nth": 1,
        "format": "AnimateDiff",
        "choose video to upload": "image",
        "videopreview": {
          "paused": false,
          "hidden": false,
          "params": {
            "custom_height": 512,
            "force_rate": 0,
            "filename": "662b082650cb6a83b6933f5131a4e626014623d62680dc439381559dc49fba4d.mp4",
            "custom_width": 496,
            "select_every_nth": 1,
            "frame_load_cap": 0,
            "format": "video/mp4",
            "skip_first_frames": 0,
            "type": "input"
          }
        }
      },
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      1,
      1,
      0,
      2,
      0,
      "IMAGE"
    ],
    [
      2,
      1,
      0,
      3,
      1,
      "IMAGE"
    ],
    [
      3,
      4,
      0,
      3,
      0,
      "UPSCALE_MODEL"
    ],
    [
      4,
      3,
      0,
      5,
      0,
      "IMAGE"
    ],
    [
      5,
      3,
      0,
      6,
      0,
      "IMAGE"
    ],
    [
      14,
      23,
      0,
      17,
      0,
      "UPSCALE_MODEL"
    ],
    [
      19,
      22,
      0,
      26,
      0,
      "IMAGE"
    ],
    [
      20,
      26,
      0,
      17,
      1,
      "IMAGE"
    ],
    [
      21,
      17,
      0,
      28,
      0,
      "IMAGE"
    ],
    [
      22,
      26,
      0,
      28,
      1,
      "IMAGE"
    ],
    [
      23,
      17,
      0,
      29,
      0,
      "IMAGE"
    ],
    [
      30,
      39,
      0,
      40,
      0,
      "IMAGE"
    ],
    [
      31,
      17,
      0,
      39,
      0,
      "IMAGE"
    ],
    [
      64,
      82,
      0,
      74,
      0,
      "IMAGE"
    ],
    [
      65,
      81,
      0,
      74,
      4,
      "FLOAT"
    ],
    [
      66,
      82,
      0,
      77,
      0,
      "IMAGE"
    ],
    [
      67,
      79,
      0,
      78,
      0,
      "IMAGE"
    ],
    [
      68,
      77,
      0,
      80,
      0,
      "IMAGE"
    ],
    [
      69,
      78,
      0,
      80,
      1,
      "IMAGE"
    ],
    [
      70,
      79,
      3,
      81,
      0,
      "VHS_VIDEOINFO"
    ],
    [
      71,
      79,
      0,
      82,
      0,
      "IMAGE"
    ],
    [
      72,
      75,
      0,
      82,
      1,
      "block_swap_config"
    ],
    [
      73,
      76,
      0,
      82,
      5,
      "INT"
    ],
    [
      74,
      82,
      0,
      84,
      0,
      "IMAGE"
    ],
    [
      75,
      81,
      0,
      84,
      4,
      "FLOAT"
    ]
  ],
  "groups": [
    {
      "id": 3,
      "title": "24显存跑图需开启（plus则不用）",
      "bounding": [
        2682.24560546875,
        2158.119140625,
        335,
        237.60000610351562
      ],
      "color": "#3f789e",
      "font_size": 22,
      "flags": {}
    },
    {
      "id": 4,
      "title": "取最短边放大的最大尺寸",
      "bounding": [
        2351.145263671875,
        2518.969970703125,
        290,
        141.60000610351562
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "选中后右键保存无水印版",
      "bounding": [
        4030.214111328125,
        2410.331298828125,
        346.31591796875,
        686.2376708984375
      ],
      "color": "#a1309b",
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "VHS_KeepIntermediate": true,
    "links_added_by_ue": [],
    "ue_links": [],
    "VHS_MetadataImage": true,
    "0246.VERSION": [
      0,
      0,
      4
    ],
    "VHS_latentpreviewrate": 0,
    "VHS_latentpreview": false,
    "ds": {
      "scale": 0.8769226950000005,
      "offset": [
        -2250.815071105896,
        -1918.5426335929171
      ]
    },
    "frontendVersion": "1.23.0"
  },
  "version": 0.4
}